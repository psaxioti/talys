Development of TALYS since release of TALYS-1.6

- December 23, 2013

********** Release of TALYS-1.6 **********

- January 10, 2014

Stephane Goriely found an error in densitytable.f where for ldmodel=6 
no parity-dependence was included. This is corrected.

- January 23, 2014

Introduced extra adjustment to pairing shift with keyword Pshiftadjust.
This works for the Backshifted Fermi Gas model and avoids looking up
the actual value for Pshift for adjustment.

- January 26, 2014

Extended the range of gamgamadjust. Lower limit is now 0.01.

- February 10, 2014

Fixed a problem for FY calculation spotted after calculating a test case for 
Charlotte Duchemin.
An extra check is done in massdis.f to speed up the FY calculations considerably.
Charlotte also noted that not al FP files are present. A correction in 
massdisout.f was made. In addition, total FP cross sections per A 
(cumulative cross section) are now given.

- February 13, 2014

Re-introduced the possibility to fit average radiative width for masses below A=40.
This is now performed if the gamgamadjust keyword is explicitly given in the input.

- February 21, 2014

Added low energy resonance cross sections to the output. For this, the
keyword 'resonance' was introduced. If resonance y, TALYS will read in 
resonance parameters, from various possible sources, and call the
RECENT code of Red Cullen's PREPRO package, which is included as a
subroutine. Low energy pointwise 
resonance cross sections will be added to channels like total, 
elastic, fission and capture.
Choices for various libraries can be made with the reslib keyword,
which can be equal to default, endfb7.1, jeff3.1, jendl4.0

- March 10, 2014

Extended the resonance option with the SIGMA1 code, for resonance broadening,
and GROUPIE, for groupwise cross sections, of the PREPRO package.
Introduced the new keywords 'Tres' and 'group' for this. Giving e.g.
Tres 100.
group y
will produce groupwise cross sections at 100 Kelvin Doppler broadening.

- April 1, 2014

Sort of solved an indexing problem for exclusive channels, found after a
crash (indeed!) of TALYS with an input case of Arjen van Vliet.
When maxchannel is high, e.g. 8, so many channels are open that an indexing
problem occurs. The ultimate correction has not been found but a small
change in channels.f, when we jump out of the loop if the index reaches
numchantot-10, seems to do the trick.

- April 1, 2014

Solved a problem discovered by Ismail Sarpun. The GSM model was insensitive 
to variations of the level density parameter a in the input. This is because 
the GSM model contains a critical level density parameter a_crit that is solved 
by iteration. Now 'a' from the input is set equal to alimit.

- May 29, 2014

Solved a problem for medical isotope production found by Will Webster. 
TALYS was not protected against using a very fine incident energy. 
This has now been solved and up to 2000 incident energies can be used.
Also some indices for the radioactive decay chain were wrongly assigned, 
which is solved now.

- June 21, 2014

Added the absorption cross section to the output. This was missing so far.
The absorpion cross section is the sum of all partial cross sections that
do not have the initial particle (usually a neutron) in the exit channel.
While it is not needed for any application, EXFOR contains some data sets
that  can be compared with this.

- July 7, 2014

Added a keyword bestend to insert a structure/best file at the end of 
the input file instead of at the beginning. This gives more flexibility 
for overruling parameter values.

- July 14, 2014

Replaced HFB masses by HFB24. 

- July 14, 2014

Replaced microscopic ph-densities by latest version from Stephane Hilaire.

- July 14, 2014

Added strength 6,7,8 models for gamma-ray strength functions.
Added a new keyword E1file to read in user-defined gamma-ray strength functions.

- July 29, 2014

Added keyword Estop to stop calculation if incident energy gets above Estop 
(while not changing the file with incident energies which may go beyond Estop).

- August 6, 2014

Changed acceptable range for aadjust, gnadjust and gpadjust into 0.1 - 10.
Also extended a few other ranges to accommodate random variations for TASMAN.

- August 8, 2014

Continue calculation if number of built rotational or class2 states exceeds 
numrot (currently 700). Instead of an error message we simply stop building 
more states.

- August 18, 2014

Solved a problem  for medical isotope production found by Ismail Sarpun. 
The wrong lifetime is read from the decay data file for the ground state if 
a nuclide has more than 1 isomer. Solved this in decaydata.f.

- August 27, 2014

Extended the range of elements up to Z=124, with nuclear symbols Rg(111), 
Cn(112), Fl(114) and Lv(116), B3(113), B5(115), B7-9(117-119), C0-4(120-124)

- August 28, 2014

Unified the output in separate files a bit more. Everything is now in 1p,e12.5
format. This makes processing by TEFAL and TASMAN easier.

- September 8, 2014

Added the stand-alone Fortran version of the GEF code as a subroutine to 
enable, in principle, the evaporation of fission fragments by TALYS. For this,
TALYS "loops over itself", i.e. it is restarted internally for every excited
fission fragment. The option for this is fymodel 3.

- October 8, 2014

Added extra security in compound.f to prevent division by zero in the case 
of fission. A rare NaN by TALYS was found for 160 MeV helions on Bi-203.

- October 22, 2014

Re-indexed the excitation energies in case of an incident population grid.
This was corrected before but not written down. Olivier Delaune pointed
me to that error of TALYS-1.6. Created a new keyword popMeV. If popMeV y,
the population grid is given as a spectrum per MeV (like before).
If popMeV n (the default), the table represents pure histograms.

- November 25, 2014

Added alpha global OMP by Avrigeanu et al and Nolte et al.
The range for alphaomp has now been extended to 8.

- December 21, 2014

Added keyword bestbranch to enable the adoption of adjusted branching ratios 
from the structure/levels/branch/ directory, for better description of 
isomeric cross sections and gamma-ray cross sections.

- April 13 2015

Corrected an error in the manual, the default GSF is Kopecky-Uhl for incident 
neutrons only, otherwise it is Brink-Axel. Found by David Walz.

- April 14 2015

Solved a problem for the strengthM1 keyword, found by Stylianos Nikas, and 
later independently by David Denis Petit.

- May 1 2015

Started implementing breakup model by Marilena Avrigeanu. There is now 
a keyword breakupmode which can have the values 1 (Kalbach) or 2 (Avrigeanu).
The implementation is not yet complete.

- May 7 2015

On the advice of Stefan Buller, I added a keyword outbinspectra, which 
prints the emission spectra per compound nucleus bin. Obviously, the 
default is outbinspectra n, since it generates a lot of output.

- September 6 2015

Solved a problem for astrophysical reaction rates, found by Stylianos Nikas.
The non-equidistant binning of excitation energies was not properly coded
in partfunc.f leading to wrong astrophysical reaction rates, especially
for high temperatures.

- September 24 2015

Defined deltaEx(0) to be half the energy of the first discrete level.
It used to be zero.

- October 3 2015

Added keyword ffspin to enable a choice between spin dependent excitation 
functions for excited fission fragments as emerging from GEF, or 
assignment of spin distributions by TALYS

Added keyword skipCN to skip the decay of a compound nucleus altogether.

- October 10 2015

Generalized GSM for fission according to suggestions of Michael Onegin.
Various level density parameters for the GSM now have an extra fission 
barrier index.

TODO

optmodall y problem of Ch Wei
Add units to the various output files
use tabulated temperature in strength.f to remove level density
inconsistency.
Add logarithmic incident energy grid
MSD/MSC
Junghans parameterization for gamma strength functions
Investigate option J=0,numJ,Jstep as suggested by Roberto
Investigate option to disable widthfluc if compelastic small
Change default for Cbreak for alpha-induced, see emails of Spyrou and Goriely
(problems near threshold)
Change default for JLM: if jlmomp y then force spherical y
